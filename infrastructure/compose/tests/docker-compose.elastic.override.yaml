version: '3.7'

services:
  elastic:
    image: elasticsearch:7.10.1
    hostname: elastic
    container_name: elastic
    ports:
      - 9200:${ELASTIC_PORT}
    env_file:
      - ./tlparser/env/tests/.env.tests.elastic
    healthcheck:
      test: ["CMD-SHELL", "curl -s http://elastic:${ELASTIC_PORT} >/dev/null || exit 1"]
      interval: 10s
      timeout: 5s
      retries: 10
    networks:
      back-tests:
        ipv4_address: 182.168.10.5
    restart: always
